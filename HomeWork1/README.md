### Архитектурная ката [Going Green](http://nealford.com/katas/kata?id=GoingGreen "Going Green")

#### 1. **Бизнес-Контекст**

Крупный магазин электроники хочет начать заниматься переработкой электроники и нуждается в новой системе для этого. Покупатели могут сдать свою мелкую персональную электронику (или воспользоваться местными киосками в торговом центре) и, возможно, получить деньги за использованную технику, если она в рабочем состоянии. Таким образом компания хочет выйти на новый  высококонкурентный рынок для получения прибыли и, в то же время, для повышения  лояльности клиентов за счет "зеленой" инициативы. 

#### 2. **Бизнес-цели и бизнес-драйверы**
 - Выйти на новый рынок и запустить новое направление
   - Драйвер: повышение прибыли 
 - Повысить лояльность клиентов
   - Драйвер: привлечение новых клиентов и повышение лояльности у текущих  клиентов
 - Добиться легкой адаптируемости
   - Драйвер: из-за высокой конкурентности нужна возможность легко подстраиваться и менять стратегию
 - Добиться масштабируемости
   - Драйвер: планируется быстрое расширение клиентской базы
#### 3. **Стейкхолдеры и их потребности**
 - Клиенты
   - Потребности: простой способ сдать на оценку оборудование, получить обратную связь,  получить денежные средства
 - Сотрудники по оценке оборудования 
   - Потребности: четкие инструкции для оценки каждого типа оборудования, быстрый поиск инструкций и заявок, удобный инструмент для внесения результатов оценки и корректировок 
 - Бизнес-менеджеры
   - Потребности: удобный инструмент для внесения, изменения, удаления типов оборудования и инструкций для оценки, быстрый доступ к аналитике для принятия бизнес-решений  
 - Сотрудники складов
   - Потребности: удобный инструмент для отслеживания всех посылок от клиентов и сортировки оборудования по разным критериям 
 - Финансовые сотрудники
   - Потребности: доступ к отчетам о движении средств, инструмент для изменения ценообразования 
   
#### 4. **Пользовательские истории**
- **Как клиент** я хочу иметь возможность легко и быстро заполнить заявку на оценку своего оборудования онлайн и получить ответ, чтобы решить хочу ли я отправлять устройство
- **Как клиент** я хочу быстро получить коробку и инструкцию, чтобы отправить устройство
- **Как клиент** я хочу иметь возможность отслеживать статус заявки и местонахождение посылки, чтобы знать прогресс
- **Как сотрудник по оценке** я хочу легко отсканировать посылку, чтобы увидеть заявку на оценку
- **Как сотрудник по оценке** я хочу иметь быстрый доступ к инструкциям для оценки каждого вида устройства, чтобы провести оценку и корректировку заявки
- **Как сотрудник склада** я хочу видеть все новые заявки, чтобы отправлять оборудование на оценку, продажу либо на утилизацию
- **Как менеджер** я хочу иметь возможность управлять каталогом видов оборудования и инструкциями для их оценки, чтобы быстро подстраиваться под нужды бизнеса без привлечения разработчиков 
- **Как финансовый сотрудник** я хочу видеть движения средств и аналитику, чтобы менять цены
- **Как клиент** я хочу легко получить денежные средства

#### 5. **Атрибуты качества**

 - **Модифицируемость**:  для легкого изменения списка типов оборудования, изменения инструкций по оценки в условиях высокой конкурентности
 - **Масштабируемость**: в условиях высокой конкуренции, при успешной кампании по привлечению клиентов производительность должна оставаться на том же уровне
 - **Отказоустойчивость**: система должна работать в течение всего рабочего дня на складе, в случае сбоя должна быть возможность восстановить данные по заявкам
 - **Производительность**: сотрудники склада должны иметь возможность быстро обрабатывать заявки, клиент должен быстро получать обратную связь по заявке
 - **Удобство использования**: интерфейс для конечных пользователей (сотрудники склада, клиенты) должен быть интуитивно понятным и требовать минимального времени на обучение

#### 6. **Контекстная схнма системы C1**
![enter image description here](https://github.com/Anton-Grebenkin/GoingGreen/blob/main/HomeWork1/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%B1%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.drawio.png)

#### 7. **Критические сценарии и критические характеристики**
- **Подача заявки клиентом**: система должна быть отзывчивой и процесс первичной подачи заявки должен быть быстрым
- **Отслеживание статуса заявки и посылки**: на всех этапах система должна выдавать правильную информацию клиенту и сотрудникам о статусе заявки
- **Обработка посылки на складе**: процесс должен быть удобным и занимать мало времени у сотрудника склада
- **Оценка оборудования**: У оценщиков должен быть быстрый доступ к инструкциям для каждого типа оборудования 
- **Изменение каталога типов оборудования**: бизнес-менеджеры должны иметь возможность легко конфигурировать систему, чтобы подстраиваться под реалии бизнеса

#### 8. **ADL**
**ADR-1: Выбор микросервисной архитектуры**

-   **Статус:**  Принято
-   **Контекст:**  Требуется высокая гибкость для смены бизнес-правил оценки, расширения типов устройств, масштабирования отдельных функций при росте нагрузки
-   **Решение:**  Система будет построена на принципах микросервисной архитектуры: каждый ключевой домен будет реализован как отдельный сервис, взаимодействие — через API, обмен событиями через брокер
-   **Последствия:**  Гибкость добавления новых функций, масштабируемость каждого сервиса; усложнение инфраструктуры, необходимы процессы DevOps и автоматизированного деплоя

**ADR-2: Хранение бизнес-правил и каталога устройств в отдельном сервисе**

-   **Статус:**  Принято
-   **Контекст:**  Частая необходимость менять правила оценки и набор поддерживаемых устройств без участия разработчиков
-   **Решение:**  Каталог устройств и бизнес-правила оценки будут храниться в отдельном сервисе с удобным UI для редактирования
-   **Последствия:**  Обеспечивается быстрое добавление/изменение поддерживаемых устройств и схем оценки без участия разработчиков, повышается конкурентноспособность
